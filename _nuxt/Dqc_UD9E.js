import{t as G,a as U,n as W,b as _,u as j,c as Y,i as Z,d as q,e as K}from"./C0Xbqyoe.js";import{ak as Q,v as E,a0 as k,a4 as ee,s as D,G as V,a7 as I,H as te,Z as X,y as oe}from"./DhHc6dn6.js";function ae(t,o,r){let c;Q(r)?c={evaluating:r}:c={};const{lazy:h=!1,evaluating:i=void 0,shallow:u=!0,onError:f=W}=c,b=E(!h),d=u?k(o):E(o);let a=0;return ee(async e=>{if(!b.value)return;a++;const s=a;let l=!1;i&&Promise.resolve().then(()=>{i.value=!0});try{const v=await t(m=>{e(()=>{i&&(i.value=!1),l||m()})});s===a&&(d.value=v)}catch(v){f(v)}finally{i&&s===a&&(i.value=!1),l=!0}}),h?D(()=>(b.value=!0,d.value)):d}function A(t){var o;const r=_(t);return(o=r==null?void 0:r.$el)!=null?o:r}const B=Z?window:void 0;function J(...t){let o,r,c,h;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,c,h]=t,o=B):[o,r,c,h]=t,!o)return W;Array.isArray(r)||(r=[r]),Array.isArray(c)||(c=[c]);const i=[],u=()=>{i.forEach(a=>a()),i.length=0},f=(a,e,s,l)=>(a.addEventListener(e,s,l),()=>a.removeEventListener(e,s,l)),b=V(()=>[A(o),_(h)],([a,e])=>{if(u(),!a)return;const s=q(e)?{...e}:e;i.push(...r.flatMap(l=>c.map(v=>f(a,l,v,s))))},{immediate:!0,flush:"post"}),d=()=>{b(),u()};return G(d),d}function ne(){const t=E(!1),o=X();return o&&oe(()=>{t.value=!0},o),t}function se(t){const o=ne();return D(()=>(o.value,!!t()))}function le(t){return JSON.parse(JSON.stringify(t))}function re(t,o,r={}){const{window:c=B,...h}=r;let i;const u=se(()=>c&&"ResizeObserver"in c),f=()=>{i&&(i.disconnect(),i=void 0)},b=D(()=>Array.isArray(t)?t.map(e=>A(e)):[A(t)]),d=V(b,e=>{if(f(),u.value&&c){i=new ResizeObserver(o);for(const s of e)s&&i.observe(s,h)}},{immediate:!0,flush:"post"}),a=()=>{f(),d()};return G(a),{isSupported:u,stop:a}}function ce(t,o={width:0,height:0},r={}){const{window:c=B,box:h="content-box"}=r,i=D(()=>{var e,s;return(s=(e=A(t))==null?void 0:e.namespaceURI)==null?void 0:s.includes("svg")}),u=E(o.width),f=E(o.height),{stop:b}=re(t,([e])=>{const s=h==="border-box"?e.borderBoxSize:h==="content-box"?e.contentBoxSize:e.devicePixelContentBoxSize;if(c&&i.value){const l=A(t);if(l){const v=c.getComputedStyle(l);u.value=Number.parseFloat(v.width),f.value=Number.parseFloat(v.height)}}else if(s){const l=Array.isArray(s)?s:[s];u.value=l.reduce((v,{inlineSize:m})=>v+m,0),f.value=l.reduce((v,{blockSize:m})=>v+m,0)}else u.value=e.contentRect.width,f.value=e.contentRect.height},r);U(()=>{const e=A(t);e&&(u.value="offsetWidth"in e?e.offsetWidth:o.width,f.value="offsetHeight"in e?e.offsetHeight:o.height)});const d=V(()=>A(t),e=>{u.value=e?o.width:0,f.value=e?o.height:0});function a(){b(),d()}return{width:u,height:f,stop:a}}const P=1;function fe(t,o={}){const{throttle:r=0,idle:c=200,onStop:h=W,onScroll:i=W,offset:u={left:0,right:0,top:0,bottom:0},eventListenerOptions:f={capture:!1,passive:!0},behavior:b="auto",window:d=B,onError:a=n=>{console.error(n)}}=o,e=E(0),s=E(0),l=D({get(){return e.value},set(n){m(n,void 0)}}),v=D({get(){return s.value},set(n){m(void 0,n)}});function m(n,T){var y,L,F;if(!d)return;const S=_(t);S&&((F=S instanceof Document?d.document.body:S)==null||F.scrollTo({top:(y=_(T))!=null?y:v.value,left:(L=_(n))!=null?L:l.value,behavior:_(b)}))}const M=E(!1),g=I({left:!0,right:!1,top:!0,bottom:!1}),w=I({left:!1,right:!1,top:!1,bottom:!1}),p=n=>{M.value&&(M.value=!1,w.left=!1,w.right=!1,w.top=!1,w.bottom=!1,h(n))},H=j(p,r+c),x=n=>{var T;if(!d)return;const y=((T=n==null?void 0:n.document)==null?void 0:T.documentElement)||(n==null?void 0:n.documentElement)||A(n),{display:L,flexDirection:F}=getComputedStyle(y),S=y.scrollLeft;w.left=S<e.value,w.right=S>e.value;const C=Math.abs(S)<=(u.left||0),N=Math.abs(S)+y.clientWidth>=y.scrollWidth-(u.right||0)-P;L==="flex"&&F==="row-reverse"?(g.left=N,g.right=C):(g.left=C,g.right=N),e.value=S;let R=y.scrollTop;n===d.document&&!R&&(R=d.document.body.scrollTop),w.top=R<s.value,w.bottom=R>s.value;const z=Math.abs(R)<=(u.top||0),$=Math.abs(R)+y.clientHeight>=y.scrollHeight-(u.bottom||0)-P;L==="flex"&&F==="column-reverse"?(g.top=$,g.bottom=z):(g.top=z,g.bottom=$),s.value=R},O=n=>{var T;if(!d)return;const y=(T=n.target.documentElement)!=null?T:n.target;x(y),M.value=!0,H(n),i(n)};return J(t,"scroll",r?Y(O,r,!0,!1):O,f),U(()=>{try{const n=_(t);if(!n)return;x(n)}catch(n){a(n)}}),J(t,"scrollend",p,f),{x:l,y:v,isScrolling:M,arrivedState:g,directions:w,measure(){const n=_(t);d&&n&&x(n)}}}function de(t,o,r,c={}){var h,i,u;const{clone:f=!1,passive:b=!1,eventName:d,deep:a=!1,defaultValue:e,shouldEmit:s}=c,l=X(),v=r||(l==null?void 0:l.emit)||((h=l==null?void 0:l.$emit)==null?void 0:h.bind(l))||((u=(i=l==null?void 0:l.proxy)==null?void 0:i.$emit)==null?void 0:u.bind(l==null?void 0:l.proxy));let m=d;m=m||`update:${o.toString()}`;const M=p=>f?typeof f=="function"?f(p):le(p):p,g=()=>K(t[o])?M(t[o]):e,w=p=>{s?s(p)&&v(m,p):v(m,p)};if(b){const p=g(),H=E(p);let x=!1;return V(()=>t[o],O=>{x||(x=!0,H.value=M(O),te(()=>x=!1))}),V(H,O=>{!x&&(O!==t[o]||a)&&w(O)},{deep:a}),H}else return D({get(){return g()},set(p){w(p)}})}export{fe as a,ce as b,ae as c,re as d,de as e,A as u};
